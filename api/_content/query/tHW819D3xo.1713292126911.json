{"_path":"/ui-libraries/react/state","_dir":"react","_draft":false,"_partial":false,"_locale":"","title":"State","description":"","body":{"type":"root","children":[{"type":"element","tag":"h3","props":{"id":"usestate"},"children":[{"type":"text","value":"useState"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"const [value, setValue] = useState(initialValue)\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const [value, setValue] = useState(initialValue)\n"}]}]},{"type":"element","tag":"h4","props":{"id":"things-to-keep-in-mind"},"children":[{"type":"text","value":"Things to keep in mind:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"if initialValue is a computation, make it function, ie\ninstead of this"},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"const [] = useState(localStorage.getItem('name') || '')\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const [] = useState(localStorage.getItem('name') || '')\n"}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"do this"},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"const [] = useState(() => localStorage.getItem('name') || '')\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const [] = useState(() => localStorage.getItem('name') || '')\n"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"useState ignores the initialValue after first render"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"also called Lazy state initialization"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"use-old-value"},"children":[{"type":"text","value":"Use old value"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"useEffect(() => {\n  setCount((oldValue) => (oldValue += 1))\n})\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"useEffect(() => {\n  setCount((oldValue) => (oldValue += 1))\n})\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"usestate","depth":3,"text":"useState"}]}},"_type":"markdown","_id":"content:ui-libraries:react:state.md","_source":"content","_file":"ui-libraries/react/state.md","_extension":"md"}